@model List<FinalWebApp.Data.Entities.ApplicationUser>

<!-- Thêm Font Awesome CDN vào head -->
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
</head>

<div class="user-list">
    <h2>User Directory</h2>
    <table class="table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Gender</th>
                <th>Birthday</th>
                <th>Phone</th>
                <th>Roles</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var user in Model)
            {
                <tr>
                    <td>@user.Fullname</td>
                    <td>@user.Email</td>
                    <td>@user.Gender</td>
                    <td>@user.DateOfBirth?.ToString("dd/MM/yyyy")</td>
                    <td>@user.NumberPhone</td>
                    <td>
                        @if (user.Roles != null && user.Roles.Any())
                        {
                            @foreach (var role in user.Roles)
                            {
                                <span class="role-badge">@role</span>
                            }
                        }
                        else
                        {
                            <span class="text-muted">No roles</span>
                        }
                    </td>
                    <td class="action-buttons">
                        <!-- Edit Button with icon -->
                        <a href="@Url.Action("Edit", "UserManager", new { id = user.Id })" class="btn btn-edit">
                            <i class="fas fa-pencil-alt"></i>
                        </a>

                        <!-- Delete Form with icon -->
                        <form asp-controller="UserManager" asp-action="Delete" method="post" class="d-inline"
                              onsubmit="return confirm('Are you sure you want to delete this user?');">
                            <input type="hidden" name="id" value="@user.Id" />
                            <button type="submit" class="btn btn-delete">
                                <i class="fas fa-trash-alt"></i>
                            </button>
                        </form>

                        <!-- Assign Role Button with icon -->
                        <a href="@Url.Action("AssignRole", "UserManager", new { id = user.Id })" class="btn btn-assign-role">
                            <i class="fas fa-user-shield"></i>
                        </a>
                    </td>
                </tr>
            }
        </tbody>
    </table>

    <!-- Thêm nút Create User dưới bảng -->
    <a asp-action="Create" asp-controller="UserManager" class="btn btn-create">Add New User</a>
</div>


<style>
    /* Tổng thể giao diện */
    .user-list {
        background: #1c1c1c; /* Nền đen mờ sang trọng */
        padding: 40px 30px;
        border-radius: 10px;
        max-width: 1300px;
        margin: 50px auto;
        font-family: 'Roboto', sans-serif;
        color: #ecf0f1; /* Màu sáng cho text */
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3); /* Bóng đổ mềm */
    }

        /* Tiêu đề */
        .user-list h2 {
            font-size: 26px;
            color: #e67e22; /* Vàng cam nổi bật cho tiêu đề */
            font-weight: 500;
            margin-bottom: 30px;
            text-align: center;
            letter-spacing: 1px;
        }

    /* Nút Create User dưới bảng */
    .btn-create {
        background-color: #e67e22; /* Vàng cam nổi bật */
        color: #fff;
        border: none;
        padding: 8px 16px;
        border-radius: 50px;
        font-weight: 600;
        text-transform: uppercase;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        display: block;
        margin: 20px auto 0;
        text-align: center;
        transition: all 0.3s ease;
    }

        .btn-create:hover {
            background-color: #d35400; /* Vàng cam đậm khi hover */
            transform: translateY(-3px) scale(1.05);
        }

    /* Bảng */
    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 30px;
        background-color: #2d3436; /* Xám đậm cho nền bảng */
        border-radius: 10px;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    }

        table th {
            background-color: #636e72; /* Xám bạc cho các tiêu đề */
            color: #fff;
            padding: 12px;
            font-size: 14px;
            text-align: center;
            font-weight: 600;
            text-transform: uppercase;
            border-bottom: 2px solid #e67e22; /* Đường viền vàng cam */
        }

            table th:hover {
                background-color: #e67e22; /* Vàng cam khi hover */
                cursor: pointer;
            }

        table tbody tr {
            background-color: #34495e; /* Màu nền cho các hàng */
            border-bottom: 1px solid #444;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

            table tbody tr:hover {
                background-color: #16a085; /* Màu xanh ngọc khi hover */
                transform: translateX(5px);
            }

        table td {
            padding: 12px;
            text-align: left;
            font-size: 13px;
            color: #ecf0f1;
            vertical-align: middle;
        }

    .role-badge {
        background-color: #e67e22; /* Vàng cam cho badge vai trò */
        color: white;
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 12px;
        margin-right: 8px;
        transition: background-color 0.3s ease;
    }

        .role-badge:hover {
            background-color: #d35400; /* Màu cam đậm khi hover */
        }

    .text-muted {
        color: #bdc3c7;
    }

    /* Các nút bấm */
    .btn {
        font-size: 12px;
        padding: 6px 10px;
        border-radius: 25px;
        font-weight: 600;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
    }

    .btn-edit {
        background-color: #e67e22; /* Vàng cam */
        color: #fff;
        border: none;
    }

    .btn-delete {
        background-color: #e74c3c; /* Đỏ tươi */
        color: #fff;
        border: none;
    }

    .btn-assign-role {
        background-color: #3498db; /* Xanh dương */
        color: #fff;
        border: none;
    }

    .btn:hover {
        transform: translateY(-3px) scale(1.05);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
    }

    .btn-edit:hover {
        background-color: #f1c40f; /* Vàng sáng khi hover */
    }

    .btn-delete:hover {
        background-color: #c0392b; /* Đỏ đậm khi hover */
    }

    .btn-assign-role:hover {
        background-color: #2980b9; /* Xanh đậm khi hover */
    }

    .btn i {
        margin-right: 6px;
    }

    /* Các nút hành động */
    .action-buttons {
        display: flex;
        justify-content: space-evenly;
        gap: 5px;
        margin-top: 10px;
        flex-wrap: wrap;
    }

        .action-buttons .btn {
            width: 30px;
            font-size: 12px;
            padding: 6px;
            text-align: center;
        }

            .action-buttons .btn:hover {
                transform: scale(1.2);
                box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
            }

    /* Căn giữa bảng */
    .user-list table {
        margin: 0 auto;
    }


</style>                    